// app/views/comments/create.js.erb
// Here you will write *javascript* that would be executed by the browser
<% if @comment.errors.any? %>
  // Render new comment form with errors
  $('#edit_comment').html("<%= j render 'comments/form', evaluation: evaluation, comment: @comment.id %>");
<% else %>
  // Create a paragraph for the new comment. But hide it.
  var edited_comment = '<%= @comment.content %>';
  //alert(<%= @comment.content %>);
  // Add it to the DOM, at the end of the existing comments. It's still hidden.
  $('#comment-<%= @comment.id %>').html(edited_comment)
  $('#comment-<%= @comment.id %>-edit').html('&nbsp;| Edited: <%= time_ago_in_words(@comment.updated_at) %> ago')
  // Show the new comment with an animation!
  // Remove the text from the content textarea.
  $('.edit-comment-form').slideUp();
<% end %>